(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(15),r=c.n(n),i=(c(22),c(23),c(3)),l=c(4),o=function(e){var t=Object(a.useState)(null),c=Object(l.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(!0),i=Object(l.a)(r,2),o=i[0],j=i[1],d=Object(a.useState)(null),b=Object(l.a)(d,2),u=b[0],h=b[1];return Object(a.useEffect)((function(){var t=new AbortController;return fetch(e).then((function(e){if(!e.ok)throw Error("could not fetch the data for that resource");return e.json()})).then((function(e){n(e),j(!1),h(null)})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(j(!1),h(e.message))})),function(){return t.abort()}}),[e]),{data:s,isPending:o,error:u}},j=c(0),d=function(e){var t=o(e.url),c=t.data,a=t.isPending,s=t.error;return Object(j.jsx)("div",{className:"col-12",children:Object(j.jsxs)("ul",{className:"nav",children:[s&&Object(j.jsx)("div",{children:s}),a&&Object(j.jsx)("div",{children:"Loading......."}),c&&0!=c.length?c.map((function(e){return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.b,{className:"nav-link active",to:"/category/".concat(e.categories,"/"),children:e.categories})})})):Object(j.jsx)("div",{children:"404"})]})})},b=function(e){var t=o(e.url),c=t.data,a=t.isPending,s=t.error;return Object(j.jsxs)("div",{className:"col-12",children:[s&&Object(j.jsx)("div",{children:s}),a&&Object(j.jsx)("div",{children:"Loading......."}),c&&0!=c.length?c.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("h5",{className:"card-header",children:e.category}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:e.title}),Object(j.jsxs)("small",{children:[e.author,"-",e.date_posted]}),Object(j.jsxs)("p",{className:"card-text",children:[e.content,"."]}),Object(j.jsx)(i.b,{to:"/postdetail/".concat(e.id),className:"btn btn-primary",children:"Edit"})]})]},e.id)]})})):Object(j.jsx)("div",{children:"404"})]})},u=c(2),h=function(){var e=Object(a.useState)("helllo"),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),r=Object(l.a)(n,2),i=r[0],d=r[1],b=Object(a.useState)(1),h=Object(l.a)(b,2),O=h[0],m=h[1],x=Object(a.useState)(!1),p=Object(l.a)(x,2),g=(p[0],p[1]),v=o("http://127.0.0.1:8000/api/categories/"),f=v.data,N=(v.isPending1,v.error,Object(u.f)());return Object(j.jsx)("div",{className:"col-12",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={title:c,content:i,category:O},a=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var c=document.cookie.split(";"),a=0;a<c.length;a++){var s=c[a].trim();if(s.substring(0,e.length+1)===e+"="){t=decodeURIComponent(s.substring(e.length+1));break}}return t}("csrftoken");g(!0);fetch("http://127.0.0.1:8000/api/post-create/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify(t)}).then((function(e){console.log(e),g(!1),N.push("/")}))},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Title"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",placeholder:"write",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Content"}),Object(j.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:i,onChange:function(e){return d(e.target.value)}})]}),Object(j.jsx)("select",{className:"custom-select",onChange:function(e){return m(e.target.value)},children:f&&f.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.categories})}))}),Object(j.jsx)("button",{type:"submit",className:"btn btn-outline-success",children:"Success"})]})})},O=function(e){var t=Object(u.g)().id,c=o("http://127.0.0.1:8000/api/post-detail/"+t),a=c.data,s=c.isPending,n=c.error;return console.log(e.user.username),Object(j.jsxs)("div",{className:"col-12",children:[Object(j.jsx)("br",{}),n&&Object(j.jsx)("div",{children:n}),s&&Object(j.jsx)("div",{children:"Loading......"}),a&&Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("h5",{className:"card-header",children:"Update"}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:a.title}),Object(j.jsxs)("small",{children:[a.author,"-",a.date_posted]}),a.author===e.user.username&&Object(j.jsxs)("div",{children:[Object(j.jsx)(i.b,{to:"/postdelete/".concat(a.id),className:"btn btn-danger",children:"Delete"})," ",Object(j.jsx)(i.b,{to:"/postupdate/".concat(a.id),className:"btn btn-success",children:"update"})]}),Object(j.jsxs)("p",{className:"card-text",children:[a.content,"."]})]})]},a.id)]})},m=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],s=t[1];return Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"username",value:c,onChange:function(e){return s(e.target.value)}}),Object(j.jsx)("div",{className:"input-group-append",children:Object(j.jsx)(i.b,{to:"/user/".concat(c),className:"input-group-text",id:"basic-addon2",children:"Search"})})]})},x=function(){var e=Object(u.g)();console.log(e);var t=Object(a.useState)("1"),c=Object(l.a)(t,2),s=c[0],n=c[1],r=function(e){n(e.target.id)};return console.log(s),Object(j.jsxs)("div",{className:"list-group",children:[Object(j.jsx)("br",{}),"1"==s?Object(j.jsx)(i.b,{to:"/",id:"1",className:"list-group-item list-group-item-action active",onClick:r,children:"Latest"}):Object(j.jsx)(i.b,{to:"/",id:"1",className:"list-group-item list-group-item-action",onClick:r,children:"Latest"}),"2"==s?Object(j.jsx)(i.b,{to:"/myposts",id:"2",className:"list-group-item list-group-item-action active",onClick:r,children:"myposts"}):Object(j.jsx)(i.b,{to:"/myposts",id:"2",className:"list-group-item list-group-item-action",onClick:r,children:"myposts"}),"3"==s?Object(j.jsx)(i.b,{to:"#",id:"3",className:"list-group-item list-group-item-action active",onClick:r,children:Object(j.jsx)(m,{})}):Object(j.jsx)(i.b,{to:"#",id:"3",className:"list-group-item list-group-item-action",onClick:r,children:Object(j.jsx)(m,{})})]})},p=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var c=document.cookie.split(";"),a=0;a<c.length;a++){var s=c[a].trim();if(s.substring(0,e.length+1)===e+"="){t=decodeURIComponent(s.substring(e.length+1));break}}return t},g=function(){var e=Object(u.f)(),t=Object(u.g)().id,c=p("csrftoken");return fetch("http://127.0.0.1:8000/api/post-delete/"+t,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":c}}).then((function(t){e.push("/")})),Object(j.jsx)("div",{children:"succesfully dleted"})},v=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),r=Object(l.a)(n,2),i=r[0],d=r[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),O=(h[0],h[1],Object(u.g)().id),m=Object(u.f)(),x=o("http://127.0.0.1:8000/api/post-detail/"+O),g=x.data,v=(x.isPending,x.error,Object(a.useState)(!1)),f=Object(l.a)(v,2),N=f[0],y=f[1],C=Object(a.useState)(!1),k=Object(l.a)(C,2),S=k[0],T=k[1],P=o("http://127.0.0.1:8000/api/categories/");P.data,P.isPending1,P.error1;return Object(j.jsx)("div",{className:"col-12",children:g&&Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={title:c,content:i},a=p("csrftoken");fetch("http://127.0.0.1:8000/api/post-update/"+O+"/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify(t)}).then((function(e){console.log(e),m.push("/")}))},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Title"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",placeholder:"write",value:!N&&g.title||c,onChange:function(e){return s(e.target.value),y(!0)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Content"}),Object(j.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:!S&&g.content||i,onChange:function(e){return d(e.target.value),T(!0)}})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-outline-success",children:"Success"})]})})},f=function(e){var t=Object(u.g)().name,c=e.url+t,a=o(c),s=a.data,n=a.isPending,r=a.error;return Object(j.jsxs)("div",{className:"col-12",children:[r&&Object(j.jsx)("div",{children:r}),n&&Object(j.jsx)("div",{children:"Loading......."}),s&&0!=s.length?s.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("h5",{className:"card-header",children:e.category}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:e.title}),Object(j.jsxs)("small",{children:[e.author,"-",e.date_posted]}),Object(j.jsxs)("p",{className:"card-text",children:[e.content,"."]}),Object(j.jsx)(i.b,{to:"/postdetail/".concat(e.id),className:"btn btn-primary",children:"Go somewhere"})]})]},e.id)]})})):Object(j.jsx)("div",{children:"404"})]})},N=function(){return fetch("http://127.0.0.1:8000/logout"),Object(j.jsxs)("div",{className:"col-12",children:["success please ",Object(j.jsx)("a",{href:"/login",children:"Login"})," here"]})},y=function(){var e=o("http://127.0.0.1:8000/api/user/"),t=e.data;e.isPending,e.error;return Object(j.jsx)(i.a,{children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)(i.b,{to:"/",className:"navbar-brand",href:"#",children:"django react"}),Object(j.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo03",children:t?Object(j.jsxs)("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.b,{className:"nav-link",to:"/create",children:"create"})}),Object(j.jsx)("li",{className:"nav-item ",children:Object(j.jsx)(i.b,{className:"nav-link",to:"#",children:t&&t.username})}),Object(j.jsx)("li",{className:"nav-item ",children:Object(j.jsx)("a",{className:"nav-link",href:"/logout",children:"logout"})})]}):Object(j.jsxs)("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0",children:[" ",Object(j.jsx)("li",{className:"nav-item ",children:Object(j.jsx)("a",{className:"nav-link",href:"/login",children:"login"})})]})})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-2"}),Object(j.jsx)("div",{className:"col-7",children:Object(j.jsxs)(u.c,{children:[Object(j.jsxs)(u.a,{exact:!0,path:"/",children:[Object(j.jsx)(d,{url:"http://127.0.0.1:8000/api/categories/"}),Object(j.jsx)(b,{url:"http://127.0.0.1:8000/api/post-list/"})]}),Object(j.jsx)(u.a,{exact:!0,path:"/create",children:Object(j.jsx)(h,{})}),Object(j.jsx)(u.a,{exact:!0,path:"/postdetail/:id",children:Object(j.jsx)(O,{user:t})}),Object(j.jsx)(u.a,{exact:!0,path:"/postdelete/:id",children:Object(j.jsx)(g,{})}),Object(j.jsx)(u.a,{exact:!0,path:"/postupdate/:id",children:Object(j.jsx)(v,{})}),Object(j.jsxs)(u.a,{exact:!0,path:"/myposts",children:[Object(j.jsx)(d,{url:"http://127.0.0.1:8000/api/categories/"}),Object(j.jsx)(b,{url:"http://127.0.0.1:8000/api/myposts/",user:t})]}),Object(j.jsxs)(u.a,{exact:!0,path:"/user/:name",children:[Object(j.jsx)(d,{url:"http://127.0.0.1:8000/api/categories/"}),Object(j.jsx)(f,{url:"http://127.0.0.1:8000/api/user/"})]}),Object(j.jsxs)(u.a,{exact:!0,path:"/category/:name",children:[Object(j.jsx)(d,{url:"http://127.0.0.1:8000/api/categories/"}),Object(j.jsx)(f,{url:"http://127.0.0.1:8000/api/category/"})]}),Object(j.jsx)(u.a,{exact:!0,path:"/logout",children:Object(j.jsx)(N,{})})]})}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)(x,{})})]})]})})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,31)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root")),C()}},[[30,1,2]]]);
//# sourceMappingURL=main.3ed7b7b4.chunk.js.map